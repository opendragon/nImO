\ProvidesFile{MpMutilities.tex}[v1.0.0]
\primaryStart{Utilities}
The utility programs that are provided with \mplusm{} provide access to the processes that
are running in the \mplusm{} installation.
Although command\longDash{}line \yarp{} commands can also be used to manage the network
connections, it is recommended that the more specialized \mplusm{} tools be used, to avoid
inconsistencies.
\secondaryStart[CommandLineUtilities]{Command\longDash{}Line~Utilities}
\mplusm{} includes a number of command\longDash{}line tools that provide some of the
functionality of the GUI\longDash{}based tool, \emph{\MMMU}.
As well, the native \yarp{} command\longDash{}line tools to create and remove connections
can be used with \mplusm, but it is very easy to create a non\longDash{}functional
installation if care is not taken.
\tertiaryStart{\utilityNameP{m+mClientList}}
The application \utilityNameX{m+mClientList} displays the clients for services that have
\yarp{} network connections with persistent state.
A service that has persistent state for its connections retains information from each
request for the following request.
An example service with persistent state is
\examplesNameR{Services}{m+mRunningSumService}, where the information that is kept is the
running sum for the connected client.\\

The application takes an optional argument for the \yarp{} network port of the service;
if no argument is provided, all services are checked for connections with persistent
state.
\insertFullUtilityParameters\\

The output displays the \yarp{} network port of a service with persistent state and the
\yarp{} network ports that are connected to it.\\

For example, the default output could be:
\outputBegin
\begin{verbatim}
Service: /_service_/examples/runningSum
Clients:
   /_client_/examples/runningsum_4896162
\end{verbatim}
\outputEnd{}
or, if \json\longDash{}formatted output is requested:
\outputBegin
\begin{verbatim}
[ { "Service": "/_service_/examples/runningSum", "Client":
"/_client_/examples/runningsum_4896162" } ]
\end{verbatim}
\outputEnd
\condPage{}
or, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
/\serviceName/examples/runningSum\pseudotab{}%
/\clientName/examples/runningsum\textunderscore{}4896162
\outputEnd{}
Note that, if no clients are found, the \json\longDash{}formatted output would be:
\outputBegin
\begin{verbatim}
[ ]
\end{verbatim}
\outputEnd{}
while the default output would be:
\outputBegin
\begin{verbatim}
No client connections found.
\end{verbatim}
\outputEnd{}
and the tab\longDash{}delimited output would be empty.
If no matching service is found, the default output would be:
\outputBegin
\begin{verbatim}
No services found.
\end{verbatim}
\outputEnd{}
and the \json\longDash{}formatted and tab\longDash{}delimited outputs would be empty.
\tertiaryEnd{\utilityNameE{m+mClientList}}
\tertiaryStart{\utilityNameP{m+mFindServices}}
The application \utilityNameX{m+mFindServices} displays the primary channels belonging to
services that match a criteria provided on the command\longDash{}line or interactively.\\

The application takes an optional argument for the matching criteria to be used; if no
criteria is provided on the command\longDash{}line, the application enters a loop, asking
for an operation to do:
\begin{itemize}
\item\cmdItem{?}{display a list of the available commands}
\item\exSp\cmdItem{f}{request the matching criteria and process it}
\item\exSp\cmdItem{q}{quit the application}
\end{itemize}

\insertFullUtilityParameters\\

An example execution of the application, with the command\longDash{}line argument
\asCode{'tag!blurt'} provided, would have the following output if default formatting is
used:
\outputBegin
\begin{verbatim}
/$ervice, /_service_/filter/truncatefloat, /blort
\end{verbatim}
\outputEnd
\condPage{}
or, if \json\longDash{}formatted output is requested:
\outputBegin
\begin{verbatim}
[ "/$ervice", "/_service_/filter/truncatefloat", "/blort" ]
\end{verbatim}
\outputEnd{}
of, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
/\dollarService\pseudotab/\serviceName/filter/truncatefloat\pseudotab/blort
\outputEnd{}
If no criteria is provided on the command\longDash{}line, and default formatting is used,
with user input shown in bold, an example execution of the application could be:
\outputBegin{}
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{f}\\
Match criteria:\ \textbf{tag!blurt}\\
/\dollarService, /\serviceName/filter/truncatefloat, /blort\\
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{f}\\
Match criteria:\ \textbf{tag:blurt}\\
/\serviceName/input/randomburst/blurt\\
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{q}
\outputEnd{}
or, if \json\longDash{}formatted output is requested:
\outputBegin{}
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{f}\\
Match criteria:\ \textbf{tag!blurt}\\
\openSq{} "/\dollarService", "/\serviceName/filter/truncatefloat", "/blort" \closeSq\\
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{f}\\
Match criteria:\ \textbf{tag:blurt}\\
\openSq{} "/\serviceName/input/randomburst/blurt" \closeSq\\
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{q}
\outputEnd{}
or, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{f}\\
Match criteria:\ \textbf{tag!blurt}\\
/\dollarService\pseudotab/\serviceName/filter/truncatefloat\pseudotab/blort\\
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{f}\\
Match criteria:\ \textbf{tag:blurt}\\
/\serviceName/input/randomburst/blurt\\
Operation:\ \openSq{}?\ f q\closeSq{}?\ \textbf{q}
\outputEnd
\tertiaryEnd{\utilityNameE{m+mFindServices}}
\condPage
\tertiaryStart{\utilityNameP{m+mPortLister}}
The application \utilityNameX{m+mPortLister} displays the active \yarp{} ports and
\mplusm{} entities.
For each \yarp{} port, its role in the \mplusm{} installation is shown as well as any
incoming and outgoing \yarp{} network connections.
The primary port for each active service is identified, as well as the primary port for
each adapter.\\

\insertFullUtilityParameters\\

The output displays the all the active \yarp{} network ports along with their input and
output \yarp{} network ports; regular \yarp{} network ports are tagged as `Standard',
while \mplusm{} adapter ports are tagged as `Adapter', \mplusm{} client ports are tagged
as `Client' and \mplusm{} service ports are tagged as `Service' or `Service registry'.\\

`Standard' ports report their IP address and network port while `Adapter' ports report
the \mplusm{} port of their client application, `Client' ports report their attached
`Adapter' ports, if any are present and `Service' ports report the name of the \mplusm{}
service that they provide.
The connections indicate their direction relative to the \yarp{} network port that is
being listed, along with the \yarp{} network port that is being connected to and the mode
of the connection, such as TCP or UDP.\\

For example, the default output could be:
\outputBegin
\begin{verbatim}
Ports:
/$ervice: Service registry port for 'Registry'.
   No active connections.
/$ervice/status: Standard port at 10.0.1.2:10008.
   Output to /reader via UDP.
/reader: Standard port at 10.0.1.2:10003.
   Input from /writer2 via TCP.
   Input from /writer via TCP.
   Input from /$ervice/status via UDP.
/writer: Standard port at 10.0.1.2:10002.
   Output to /reader via TCP.
/writer2: Standard port at 10.0.1.2:10004.
   Output to /reader via TCP.
\end{verbatim}
\outputEnd
\condPage{}
or, if \json\longDash{}formatted output is requested:
\outputBegin
\begin{verbatim}
[ { "PortName": "/$ervice", "PortClass": "Service registry port for 'Registry'",
"Inputs": [ ], "Outputs": [ ] }, { "PortName":\ "/$ervice/status", "PortClass":
"Standard port at 10.0.1.2:10008", "Inputs": [ ], "Outputs": [ { "Port":
"/reader", "Mode": "UDP" } ] }, { "PortName": "/reader", "PortClass":
"Standard port at 10.0.1.2:10003", "Inputs": [ { "Port": "/writer2", "Mode":
"TCP" }, { "Port": "/writer", "Mode": "TCP" }, { "Port": "/$ervice/status",
"Mode": "UDP" } ], "Outputs": [] }, { "PortName": "/writer", "PortClass":
"Standard port at 10.0.1.2:10002", "Inputs": [ ], "Outputs": [ { "Port":
"/reader", "Mode": "TCP" } ] }, { "PortName": "/writer2", "PortClass":
"Standard port at 10.0.1.2:10004", "Inputs": [ ], "Outputs": [ { "Port":
"/reader", "Mode": "TCP" } ] } ]
\end{verbatim}
\outputEnd{}
or, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
/\dollarService\pseudotab{}Service~registry~port~for~'Registry'\\		
/\dollarService/status\pseudotab{}Standard~port~at~10.0.1.2:10008\pseudotab/%
reader~UDP\\
/reader\pseudotab{}Standard~port~at~10.0.1.2:10003\pseudotab/writer2~TCP,
/writer~TCP,\\
\hspace*{2em}/\dollarService/status~UDP\\
/writer\pseudotab{}Standard~port~at~10.0.1.2:10002\pseudotab/reader~TCP\\
/writer2\pseudotab{}Standard~port~at~10.0.1.2:10004\pseudotab/reader~TCP
\outputEnd{}
Note that, if no ports are found, the \json\longDash{}formatted output would be:
\outputBegin
\begin{verbatim}
[ ]
\end{verbatim}
\outputEnd{}
while the default output would be:
\outputBegin
\begin{verbatim}
Ports:
   No ports found.
\end{verbatim}
\outputEnd{}
and the tab\longDash{}delimited output would be empty.
\tertiaryEnd{\utilityNameE{m+mPortLister}}
\tertiaryStart{\utilityNameP{m+mRequestInfo}}
The application \utilityNameX{m+mRequestInfo} displays information on requests for one or
more active services in the \mplusm{} installation.
It lists each request, along with the \yarp{} network port for the service that handles
the request and details about the request.\\

The application takes two optional arguments for the \yarp{} network port of the service
and the request to get information on; if the request is not specified, all requests for
the given service are shown and, if no port is specified, all requests for all services
are displayed.
\insertFullUtilityParameters\\

The output consists of the \yarp{} network port that is used by the service, the name of
the request, its version number, a description of the request, including its expected
input and expected output, as well as alternate names for the request and the format of
its inputs and outputs.\\

The input and output formats have a symbolic representation, which is currently used for
descriptive purposes and not actually validated by the services.\\

An `i' represents an integer value, a `d' represents a floating\longDash{}point (`double')
value, an `n' represents a numeric value (either an integer or a floating\longDash{}point
number), an `s' represents a string and a `.' represents an arbitrary value.\\

Values can be grouped in lists by being preceded by a `(' and followed by a `)';
concatenation of values indicates sequential appearance of the values.
That is, `sis' indicates a sequence consisting of a string, and integer and another
string.\\

A `:' indicates a key / value pair and a dictionary is indicated by a leading `[' and a
trailing `]'.\\

`?' after an item indicates that the item is optional, `*' indicates that the preceding
item may appear zero or more times and `+' indicates that the preceding item may appear
one or more times.\\

For example, the default output when both the service and the request are specified could
be:
\outputBegin
\begin{verbatim}
Service Port: /$ervice
Request:      register
Version:      1.0
Details:      Register the service and its requests
              Input: the channel used by the service
              Output: OK or FAILED, with a description of the problem
              encountered
Keywords:     register add
Inputs:       s
Outputs:      s
\end{verbatim}
\outputEnd{}
or, if \json\longDash{}formatted output is requested:
\outputBegin
\begin{verbatim}
[ { "Port": "/$ervice", "Request": "register", "Version": "1.0", "Details":
"Register the service and its requests\nInput: the channel used by the
service\nOutput: OK or FAILED, with a description of the problem
encountered", "Keywords": [ "register", "add" ], "Inputs": "s", "Outputs":
"s" } ]
\end{verbatim}
\outputEnd
or, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
/\dollarService\pseudotab{}register\pseudotab{}1.0\pseudotab{}Register the service and its
requests\textbackslash{}nInput:\ the\\
channel used by the service\textbackslash{}nOutput:\ OK or FAILED, with a description of
the\\
problem encountered\pseudotab{}register add\pseudotab{}s\pseudotab{}s
\outputEnd{}
For the default output, multiple entries will be separated by a blank line; for
tab\longDash{}delimited output each entry is on a line by itself and for
\json\longDash{}formatted output, the entries are objects within an array.
Note that, if no matching request is found, the \json\longDash{}formatted output would be:
\outputBegin
\begin{verbatim}
[ ]
\end{verbatim}
\outputEnd{}
while the default output would be:
\outputBegin
\begin{verbatim}
No matching request found.
\end{verbatim}
\outputEnd{}
and the tab\longDash{}delimited output would be empty.
If no matching service is found, the default output would be:
\outputBegin
\begin{verbatim}
No services found.
\end{verbatim}
\outputEnd{}
and the \json\longDash{}formatted and tab\longDash{}delimited outputs would be empty.
\tertiaryEnd{\utilityNameE{m+mRequestInfo}}
\condPage
\tertiaryStart{\utilityNameP{m+mServiceList}}
The application \utilityNameX{m+mServiceList} displays the active services in the
\mplusm{} installation.
It lists each service, along with the service description and requests, as well as the
path to the executable for the service and the \yarp{} network ports that the service
provides.\\

\insertFullUtilityParameters\\

The output consists of the \yarp{} network port for the service, the `canonical' name of
the service, the kind of service (`Filter', `Input', `Output', `Normal' or `Registry'), a
short description of the service, a short description of the requests supported by the
service, the path to the executable for the service and any secondary input or output
\yarp{} network ports attached to the service.\\

Note that the description of requests supported by the service does not include the
\secondaryRef{BasicRequests}{`basic'} requests handled by all services or, in the case of
\inputOutput{} services, the \secondaryRef{InputOutputRequests}{`input~/~output'}
requests.\\

For each secondary input or output \yarp{} network port, the protocol supported by the
port is shown.
Note that secondary port protocols have no specific format \longDash{} they are simple
strings that must match in order for a connection to be established with the port.
By convention, protocol strings can have formats similar to the input and output formats
for requests, but there is no requirement that the protocol strings have any particular
structure.\\

If a protocol is not specified for a secondary input port, then it will accept any data;
if no protocol is specified for a secondary output port, then its output data has no
particular structure and can only be connected to a \yarp{} network port that has no
protocol.
\condPage{}
For example, the default output could be:
\outputBegin
\begin{verbatim}
Services:

Service port:      /$ervice
Service name:      Registry
Tag:
Service kind:      Registry
Description:       The Registry service
Extra information: Using in-memory database
Requests:          match - return the channels for services matching the
                   criteria provided
                   ping - update the last-pinged information for a channel
                   or record the information for a service on the given
                   channel
                   register - record the information for a service on the
                   given channel
                   unregister - remove the information for a service on the
                   given channel
Path:              .../mpmRegistryService
Secondary outputs: /$ervice/status{protocol=s}

Service port:      /_service_/input/randomburst
Service name:      RandomBurstInput
Tag:
Service kind:      Input
Description:       The Random Burst input service
Extra information: Burst period is 1, burst size is 1
Requests:
Path:              .../mpmRandomBurstInputService
Secondary outputs: /_service_/input/randomburst/output{protocol=d+}

Service port:      /shorten
Service name:      TruncateFloatFilter
Tag:               blort
Service kind:      Filter
Description:       The Truncate Float filter service
Requests:
Path:              .../mpmTruncateFloatFilterService
Secondary inputs:  /shorten/input{protocol=d+}
Secondary outputs: /shorten/output{protocol=i+}
\end{verbatim}
\outputEnd
\condPage{}
or, if \json\longDash{}formatted output is requested:
\outputBegin
\begin{verbatim}
[ { "ServicePort": "/$ervice", "ServiceName": "Registry", "Tag": "", "ServiceKind":
"Registry", "Description": "The Registry service", "ExtraInfo": "Using in-memory
database", "Requests": "match - return the channels for services matching the
criteria provided\nping - update the last-pinged information for a channel or
record the information for a service on the given channel\nregister - record the
information for a service on the given channel\nunregister - remove the information
for a service on the given channel", "Path": ".../mpmRegistryService",
"SecondaryInputs": [ ], "SecondaryOutputs": [ { "Name": "/$ervice/status",
"Protocol": "s" } ] }, { "ServicePort": "/_service_/input/randomburst",
"ServiceName": "RandomBurstInput", "Tag": "", "ServiceKind": "Input", "Description":
"The random burst input service", "ExtraInfo": "Burst period is 1, burst size is 1",
"Requests": "", "Path": ".../mpmRandomBurstInputService", "SecondaryInputs": [ ],
"SecondaryOutputs": [ { "Name": "/_service_/input/randomburst/output", "Protocol":
"d+" } ] }, { "ServicePort":  "/shorten", "ServiceName": "TruncateFloatFilter",
"Tag": "blort", "ServiceKind": "Filter", "Description": "The Truncate Float filter
service", "ExtraInfo": "", "Requests": "", "Path":
".../mpmTruncateFloatFilterService", "SecondaryInputs": [ { "Name":
"/shorten/input", "Protocol": "d+" } ], "SecondaryOutputs": [ { "Name":
"/shorten/output", "Protocol": "i+" } ] } ]
\end{verbatim}
\outputEnd{}
or, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
/\dollarService\pseudotab{}Registry\pseudotab{}Registry\pseudotwotabs{}The Registry
service\pseudotab{}Using in-memory database\pseudotab\\
match - return the channels for services matching the criteria provided\textbackslash{}%
nping -\\
update the last-pinged information for a channel or record the information for\\
a service on the given channel\textbackslash{}nregister - record the information for a
service\\
on the given channel\textbackslash{}nunregister - remove the information for a service on
the\\
given channel\pseudotab\textellipsis{}/mpmRegistryService\pseudotwotabs{}/\dollarService%
/status\textbraceleft{}protocol=s\textbraceright\\

/\serviceName/input/randomburst\pseudotab{}RandomBurstInput\pseudotwotabs{}Input%
\pseudotab\\
The Random Burst input service\pseudotab{}Burst period is 1, burst size is 1%
\pseudotwotabs\\
\textellipsis{}/mpmRandomBurstInputService\pseudotwotabs{}/\serviceName/input/%
randomburst/output\textbraceleft{}protocol=d+\textbraceright\\

/shorten\pseudotab{}TruncateFloatFilter\pseudotab{}blort\pseudotab{}Filter\pseudotab{}The
Truncate Float filter service\pseudothreetabs\\
\textellipsis{}/mpmTruncateFloatFilterService\pseudotab{}/shorten/input\textbraceleft{}%
protocol=d+\textbraceright\pseudotab\\
/shorten/output\textbraceleft{}protocol=i+\textbraceright
\outputEnd{}
For clarity, the full paths to the executables have been shortened and blank lines have
been added; in the actual output the paths would be absolute paths and there would be no
blank lines between the output rows.
Note that, if no services are found, the output would be empty.
\tertiaryEnd{\utilityNameE{m+mServiceList}}
\condPage
\tertiaryStart{\utilityNameP{m+mServiceMetrics}}
The application \utilityNameX{m+mServiceMetrics} displays measurements for the channels of
one or more active services in the \mplusm{} installation.
It lists each \yarp{} network port for the service and details about the activity on the
channel.\\

The application takes an optional argument for the \yarp{} network port of the service;
if no port is specified, all services are displayed.
\insertFullUtilityParameters\\

The output consists of the \yarp{} network port that has been measured, the date and time
of the measurement, the number of input and output bytes transferred and the number of
input and output transfers.
The primary \yarp{} network port for the service as well as its secondary ports are
reported, along with an entry labelled `auxiliary', which represents any transient
\yarp{} network ports that the service has used.\\

All services use transient \yarp{} network ports to, at least, register themselves.\\

For example, the default output could be (with the lines wrapped for clarity):
\outputBegin
\begin{verbatim}
/$ervice
       /$ervice: [date: 2014-10-10, time: 09:16:32, bytes in: 11221, out: 52535,
                  messages in: 265, out: 264]
      auxiliary: [date: 2014-10-10, time: 09:16:32, bytes in: 0, out: 0, messages
                  in: 0, out: 0]
/$ervice/status: [date: 2014-10-10, time: 09:16:32, bytes in: 0, out: 17292,
                  messages in: 0, out: 176]

/_service_/input/leapmotion
       /_service_/input/leapmotion: [date: 2014-10-10, time: 09:16:32, bytes in:
                                     54, out: 4842, messages in: 3, out: 2]
                         auxiliary: [date: 2014-10-10, time: 09:16:32, bytes in:
                                     15, out: 53, messages in: 1, out: 1]
/_service_/input/leapmotion/output: [date: 2014-10-10, time: 09:16:32, bytes in:
                                     0, out: 0, messages in: 0, out: 0]
\end{verbatim}
\outputEnd
\condPage{}
or, if \json\longDash{}formatted output is requested:
\outputBegin
\begin{verbatim}
[ [ { "channel": "/$ervice", "date": "2014-10-10", "time": "09:18:42", "inBytes":
"12091", "inMessages": "285", "outBytes": "56155", "outMessages": "284" }, {
"channel": "auxiliary", "date": "2014-10-10", "time": "09:18:42", "inBytes": "0",
"inMessages": "0", "outBytes": "0", "outMessages": "0" }, { "channel":
"/$ervice/status", "date": "2014-10-10", "time": "09:18:42", "inBytes": "0",
"inMessages": "0", "outBytes": "18678", "outMessages": "190" } ],
[ { "channel": "/_service_/input/leapmotion", "date": "2014-10-10", "time":
"09:18:42", "inBytes": "94", "inMessages": "5", "outBytes": "6600", "outMessages":
"4" }, { "channel": "auxiliary", "date": "2014-10-10", "time": "09:18:42",
"inBytes": "127", "inMessages": "15", "outBytes": "739", "outMessages": "15" },
{ "channel": "/_service_/input/leapmotion/output", "date": "2014-10-10", "time":
"09:18:42", "inBytes": "0", "inMessages": "0", "outBytes": "0", "outMessages":
"0" } ] ]
\end{verbatim}
\outputEnd{}
or, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
/\dollarService\pseudotab{}2014-10-10\pseudotab{}09:16:54\pseudotab{}11460%
\pseudotab{}54313\pseudotab{}271\pseudotab{}270\\
auxiliary\pseudotab{}2014-10-10\pseudotab{}09:16:54\pseudotab{}0\pseudotab{}0\pseudotab{}%
0\pseudotab{}0\\
/\dollarService/status\pseudotab{}2014-10-10\pseudotab{}09:16:54\pseudotab{}0%
\pseudotab{}17589\pseudotab{}0\pseudotab{}179\\
/\serviceName/input/leapmotion\pseudotab{}2014-10-10\pseudotab{}09:16:54\pseudotab{}74%
\pseudotab{}5721\pseudotab{}4\pseudotab{}3\\
auxiliary\pseudotab{}2014-10-10\pseudotab{}09:16:54\pseudotab{}39\pseudotab{}200%
\pseudotab{}4\pseudotab{}4\\
/\serviceName/input/leapmotion/output\pseudotab{}2014-10-10\pseudotab{}09:16:54%
\pseudotab{}0\pseudotab{}0\pseudotab{}0\pseudotab{}0
\outputEnd{}
For the default output, multiple entries will be separated by a blank line; for
tab\longDash{}delimited output each entry is on a line by itself and for
\json\longDash{}formatted output, the entries are objects within an array.
Note that, if no matching request is found, the \json\longDash{}formatted output would be:
\outputBegin
\begin{verbatim}
[ ]
\end{verbatim}
\outputEnd{}
while the default output would be:
\outputBegin
\begin{verbatim}
No matching request found.
\end{verbatim}
\outputEnd{}
and the tab\longDash{}delimited output would be empty.
If no matching service is found, the default output would be:
\outputBegin
\begin{verbatim}
No services found.
\end{verbatim}
\outputEnd{}
and the \json\longDash{}formatted and tab\longDash{}delimited outputs would be empty.
\tertiaryEnd{\utilityNameE{m+mServiceMetrics}}
\condPage
\tertiaryStart{\utilityNameP{m+mServiceStop}}
The application \utilityNameX{m+mServiceStop} tells a particular active service to stop
running.\\

The application takes an argument for the \yarp{} network port of the service and produces
no output.
\insertShortUtilityParameters{}

Note that, in order to specify the \serviceNameR[\RS]{RegistryService}, it must be quoted
with single quotes, as the network port contains a character that is special to the Unix
shell program.
\tertiaryEnd{\utilityNameE{m+mServiceStop}}
\tertiaryStart{\utilityNameP{m+mVersion}}
The application \utilityNameX{m+mVersion} displays the version numbers for \mplusm,
\yarp{} and ACE, the low\longDash{}level networking layer used by \mplusm{} and \yarp.\\

\insertFullUtilityParameters{}
For example, the default output could be:
\outputBegin
\begin{verbatim}
Movement And Meaning Version: 1.6.6, YARP Version: 2.3.62.1, ACE Version: 6.3.2
\end{verbatim}
\outputEnd{}
or, if \json\longDash{}formatted output is requested:
\outputBegin
\begin{verbatim}
{ "m+m": "1.6.6", "YARP": "2.3.62.1", "ACE": "6.3.2" }
\end{verbatim}
\outputEnd{}
or, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
1.6.6\pseudotab{}2.3.62.1\pseudotab{}6.3.2
\outputEnd
\tertiaryEnd{\utilityNameE{m+mVersion}}
\secondaryEnd
\condPage
\secondaryStart[UtilityServicesAndClients]{Utility~Services~and~Clients}
\tertiaryStart{\utilityNameP{m+mAddressService}}
The \utilityNameX{m+mAddressService} application is a background service that is used to
record an IP address and port that can be retrieved by the \utilityNameR{m+mAddressClient}
application.\\

It responds to the \requestsNameR{Miscellaneous}{Miscellaneous}{where} request sent by the
companion application \utilityNameR{m+mAddressClient} to retrieve the IP address and port
that it is started with.\\

Note that the application will exit if the \serviceNameR[\RS]{RegistryService} is not
running.\\

The application has two arguments \longDash{} the IP address and port to be remembered.
\insertAutoAppParameters
\insertTagDescription{Address}
\condPage
If the service is selected for execution from within the \emph{\MMMU} application, the
following dialog will be presented:
\objScaledDiagram{mpm_images/launchAddressService}%
{launchServiceAddress}{Launch options for the \emph{Address} service}{0.8}

\insertTagAndEndpointDescription{mpm_images/runningAddressService}%
{serviceRunningAddress}{The \emph{\MMMU} entity for the \emph{Address} service}{1.0}
\tertiaryEnd{\utilityNameE{m+mAddressService}}
\condPage
\tertiaryStart{\utilityNameP{m+mAddressClient}}
The \utilityNameX{m+mAddressClient} application is a command\longDash{}line tool to
retrieve an IP address and port from the\\
\utilityNameR{m+mAddressService} application.\\

It uses the \requestsNameR{Miscellaneous}{Miscellaneous}{where} request sent to the
\utilityNameR{m+mAddressService} application to get the IP address and port.\\

The application has one or two optional arguments, with the first argument having one of
three values:
\begin{itemize}
\item\argItem{address}{Display just the retrieved IP address}
\item\exSp\argItem{both}{Display the retrieved IP address and port}
\item\exSp\argItem{port}{Display just the retrieved port}
\end{itemize}
The second argument is:
\begin{itemize}
\item\argItem{other}{Use \emph{other} as the tag for the
\utilityNameR{m+mAddressService} application being connected to}
\end{itemize}

\insertFullClientParameters\\

If the \utilityNameR{m+mAddressService} is started via:
\outputBegin
\begin{verbatim}
m+mAddressService -t blurg 123.123.123.123 42 &
\end{verbatim}
\outputEnd{}
The output of:
\outputBegin
\begin{verbatim}
m+mAddressClient
\end{verbatim}
\outputEnd{}
would be:
\outputBegin
\begin{verbatim}
Could not connect to the required service.
\end{verbatim}
\outputEnd{}
since the service was started with a tag.\\

For the command:
\outputBegin
\begin{verbatim}
m+mAddressClient blurg
\end{verbatim}
\outputEnd{}
the output would be:
\outputBegin
\begin{verbatim}
Address: 123.123.123.123, Port: 42
\end{verbatim}
\outputEnd{}
or, if \json\longDash{}formatted output is requested:
\outputBegin
\begin{verbatim}
{ "Address": "123.123.123.123", "Address": "42" }
\end{verbatim}
\outputEnd{}
or, if tab\longDash{}delimited output is requested, with tabs shown as `\tabSymbol':
\outputBegin{}
123.123.123.123\pseudotab{}42
\outputEnd{}
The default output is \textbf{both}; if \textbf{address} is specified, the port is not
displayed and, if \textbf{port} is specified, the IP address is not displayed.
\tertiaryEnd{\utilityNameE{m+mAddressClient}}

\tertiaryStart{\utilityNameP{m+mBlobOutputService}}
The \utilityNameX{m+mBlobOutputService} application is an Output service, accepting and
rerouting its input data to an internet port.
The application responds to the standard Output service requests and can be used as a
standalone data router, without the need for a client connection.\\

The \requestsNameR{\inputOutput}{InputOutput}{configuration} request has no arguments and
returns the integer value for the output port to be used.\\

The \requestsNameR{\inputOutput}{InputOutput}{configure} request has a single argument
\longDash{} an integer value for the output port to be used.\\

The \requestsNameR{\inputOutput}{InputOutput}{restartStreams} request stops and then
starts the input stream.\\

The \requestsNameR{\inputOutput}{InputOutput}{startStreams} request initiates listening
on the input stream.\\

The \requestsNameR{\inputOutput}{InputOutput}{stopStreams} request terminates listening
on the input stream.\\

Note that the application will exit if the \serviceNameR[\RS]{RegistryService} is not
running.\\

\insertAppParameters
\insertTagDescription{Blob Output}
\insertOutputServiceComment\\

\insertStandardServiceCommands
\condPage
If the service is selected for execution from within the \emph{\MMMU} application, the
following dialog will be presented:
\objScaledDiagram{mpm_images/launchBlobOutputService}%
{launchServiceBlob}{Launch options for the \emph{Blob Output} service}{0.8}

\insertTagAndEndpointDescription{mpm_images/runningBlobOutputService}%
{serviceRunningBlob}{The \emph{\MMMU} entity for the \emph{Blob Output} service}{1.0}
\condPage{}
If the \textbf{Configure the service} menu item has been selected, the following will
appear:
\objScaledDiagram{mpm_images/configureBlobOutputService}%
{configureServiceBlob}{Configuration window for the \emph{Blob Output} service}{1.0}
\tertiaryEnd{\utilityNameE{m+mBlobOutputService}}
\condPage
\tertiaryStart{\utilityNameP{m+mRecordBlobOutputService}}
The \utilityNameX{m+mRecordBlobOutputService} application is an Output service, recording
a stream of \yarp{} binary blob values to an external file.
The application responds to the standard Output service requests and can be used as a
standalone data generator, without the need for a client connection.\\

The \requestsNameR{\inputOutput}{InputOutput}{configuration} request has no arguments and
returns the file\longDash{}system path to use for the output file.\\

The \requestsNameR{\inputOutput}{InputOutput}{configure} request has a single argument,
the file\longDash{}system path to use for the output file.
The path will be used when the input stream is started or restarted.\\

The \requestsNameR{\inputOutput}{InputOutput}{restartStreams} request stops and then
starts the input stream.\\

The \requestsNameR{\inputOutput}{InputOutput}{startStreams} request opens a file to be
used for output, using the configured output file path.\\

The \requestsNameR{\inputOutput}{InputOutput}{stopStreams} request closes the output
file that is being used.\\

Note that the application will exit if the \serviceNameR[\RS]{RegistryService} is not
running.\\

The application has one optional argument \longDash{} the output file path to be used.
\insertAppParameters
\insertTagDescription{Record Blob Output}
\insertOutputServiceComment\\

The output file path parameter provides the initial output file path; if not specified, a
random path in the system temporary directory will be used.
For \win, the temporary directory being used is ``\textbackslash{}tmp'' while, for \osx{},
it will be ``/tmp''.
Note that the output file path can also be set via commands, if the application is
running from a terminal.\\

\insertStandardServiceCommands
\condPage
If the service is selected for execution from within the \emph{\MMMU} application, the
following dialog will be presented:
\objScaledDiagram{mpm_images/launchRecordBlobOutputService}%
{launchServiceRecordBlob}{Launch options for the \emph{Record Blob Output} service}{0.8}

\insertTagAndEndpointDescription{mpm_images/runningRecordBlobOutputService}%
{serviceRunningRecordBlob}{The \emph{\MMMU} entity for the \emph{Record Blob Output}
service}{1.0}

If the \textbf{Configure the service} menu item has been selected, the following will
appear:
\objScaledDiagram{mpm_images/configureRecordBlobOutputService}%
{configureServiceRecordBlob}{Configuration window for the \emph{Record Blob Output}
service}{1.0}
\condPage{}
The output file name forms part of the names of the channels and is added to the title bar
of the service, as though it were a `tag'.\\

If a `tag' value is supplied, it is merged with the output file name, as shown here:
\objScaledDiagram{mpm_images/recordBlobWithTag}%
{recordBlobWithTag}{The \emph{\MMMU} entity for the \emph{Record Blob Output} service with
a tag}{1.0}

If an `endpoint' value is specified, the output file name forms part of the title bar but
does not affect the channel names:
\objScaledDiagram{mpm_images/recordBlobWithEndpoint}%
{recordBlobWithEndpoint}{The \emph{\MMMU} entity for the \emph{Record Blob Output} service
with an endpoint}{1.0}

If both a `tag' value and an `endpoint' value are provided, the `endpoint' value
determines the channel names while the `tag' value is combined with the output file name
as part of the title bar:
\objScaledDiagram{mpm_images/recordBlobWithEndpointAndTag}%
{recordBlobWithEndpointAndTag}{The \emph{\MMMU} entity for the \emph{Record Blob Output}
service with an endpoint and tag}{1.0}
\condPage{}
If the `mod' option is used, the `tag' option is primarily affected.
For example, if a `tag' value is supplied along a tag modifier of 1 byte, the following
will be displayed for the service:
\objScaledDiagram{mpm_images/recordBlobWithTagM1}%
{recordBlobWithTagM1}{The \emph{\MMMU} entity for the \emph{Record Blob Output} service
with a tag and one byte tag modifier}{1.0}

If an `endpoint' value is specified along with a tag modifier of 1 byte, the script file
name forms part of the title bar but does not affect the channel names and the tag
modifier is used to form the tag:
\objScaledDiagram{mpm_images/recordBlobWithEndpointM1}%
{recordBlobWithEndpointM1}{The \emph{\MMMU} entity for the \emph{Record Blob Output}
service with an endpoint and one byte tag modifier}{1.0}

If both a `tag' value and an `endpoint' value are provided along with a tag modifier of 1
byte, the `endpoint' value determines the channel names while the `tag' value is combined
with the script file name and the tag modifier as part of the title bar:
\objScaledDiagram{mpm_images/recordBlobWithEndpointAndTagM1}%
{recordBlobWithEndpointAndTagM1}{The \emph{\MMMU} entity for the \emph{Record Blob Output}
service with an endpoint, tag and one byte tag modifier}{1.0}

If only a tag modifier is set \longDash{} for example a 2 byte tag modifier \longDash{}
then the tag modifier is combined with the script file name and affects both the channel
names and the title bar:
\objScaledDiagram{mpm_images/recordBlobWithM2}%
{recordBlobWithM2}{The \emph{\MMMU} entity for the \emph{Record Blob Output} service with
a two byte tag modifier}{1.0}
\tertiaryEnd{\utilityNameE{m+mRecordBlobOutputService}}
\condPage
\tertiaryStart{\utilityNameP{m+mRequestCounterService}}
The \utilityNameX{m+mRequestCounterService} application is a background service that is
used to determine the average time to send a simple request, process it and return a
response.\\

It responds to the \requestsNameR{Miscellaneous}{Miscellaneous}{resetcounter} and
\requestsNameR{Miscellaneous}{Miscellaneous}{stats} requests sent by the
companion application \utilityNameR{m+mRequestCounterClient} to manage the statistics
that it gathers.\\

Note that the application will exit if the \serviceNameR[\RS]{RegistryService} is not
running.\\

The application has six optional parameters:
\begin{itemize}
\item\optItem{a}{}{args}{display the argument descriptions for the executable and leave
\longDash{} note that this option is primarily for use by the \emph{\MMMU}}
\item\exSp\optItem{c}{}{channel}{display the endpoint name and leave}
\item\exSp\optItem{h}{}{help}{display the list of optional parameters and arguments and
leave}
\item\exSp\optItem{i}{}{info}{display the type of the executable, the valid options and
a description of the executable and leave \longDash{} note that this option is primarily
for use by the \emph{\MMMU}}
\item\exSp\optItem{p}{v}{port}{specifies the port number `\textit{v}' to be used, if a
non\longDash{}default port is desired}
\item\exSp\optItem{r}{}{report}{report the service metrics when the application exits}
\item\exSp\optItem{v}{}{vers}{display the version and copyright information and leave}
\end{itemize}
Note that only one copy of the \utilityNameX{m+mRequestCounterService} application can be
running at a time in an \mplusm{} installation, due to its fixed endpoint name.
\condPage
If the service is selected for execution from within the \emph{\MMMU} application, the
following dialog will be presented:
\objScaledDiagram{mpm_images/launchRequestCounterService}%
{launchServiceRequestCounter}{Launch options for the \emph{Request Counter} service}{0.8}

\insertTagAndEndpointDescription{mpm_images/runningRequestCounterService}%
{serviceRunningRequestCounter}{The \emph{\MMMU} entity for the \emph{Request Counter}
service}{1.0}
\tertiaryEnd{\utilityNameE{m+mRequestCounterService}}
\condPage
\tertiaryStart{\utilityNameP{m+mRequestCounterClient}}
The \utilityNameX{m+mRequestCounterClient} application is a command\longDash{}line tool to
measure the average time to process a simple request.\\

It uses the \requestsNameR{Miscellaneous}{Miscellaneous}{resetcounter} and
\requestsNameR{Miscellaneous}{Miscellaneous}{stats} requests sent to the
\utilityNameR{m+mRequestCounterService} application to gather the statistics, and a
`dummy' request to provide the requests that are being measured.\\

The application has no arguments.
\insertShortClientParameters{}

The application asks for the number of requests to send via the prompt:
\outputBegin
\begin{verbatim}
How many requests?
\end{verbatim}
\outputEnd{}
Entering a zero value will exit the application.
An example execution of the application, with the \utilityNameR{m+mRequestCounterService}
application running in the background and user input shown in bold, could be:
\outputBegin{}
How many requests?\ \textbf{10000}\\
count = 10000, elapsed time = 2.2 seconds, average time = 0.22 milliseconds.\\
How many requests?\ \textbf{300000}\\
count = 300000, elapsed time = 1.20052 minutes, average time = 0.240104 milliseconds.\\
How many requests?\ \textbf{0}
\outputEnd
\tertiaryEnd{\utilityNameE{m+mRequestCounterClient}}
\condPage
\tertiaryStart{\utilityNameP{m+mTunnelService}}
The \utilityNameX{m+mTunnelService} application is a background service that is used to
route a non\longDash\yarp{} network data source to a non\longDash\yarp{} network data
sink, via the \utilityNameR{m+mTunnelClient} application.\\

It responds to the \requestsNameR{Miscellaneous}{Miscellaneous}{where} request sent by the
companion application \utilityNameR{m+mTunnelClient} to retrieve an IP address and port
that the companion application should connect to.\\

Note that the application will exit if the \serviceNameR[\RS]{RegistryService} is not
running.\\

The application has two arguments \longDash{} the IP address and port for the network data
source.
\insertAutoAppParameters
\insertTagDescription{Tunnel}
\condPage
If the service is selected for execution from within the \emph{\MMMU} application, the
following dialog will be presented:
\objScaledDiagram{mpm_images/launchTunnelService}%
{launchServiceTunnel}{Launch options for the \emph{Tunnel} service}{0.8}

\insertTagAndEndpointDescription{mpm_images/runningTunnelService}%
{serviceRunningTunnel}{The \emph{\MMMU} entity for the \emph{Tunnel} service}{1.0}
\tertiaryEnd{\utilityNameE{m+mTunnelService}}
\condPage
\tertiaryStart{\utilityNameP{m+mTunnelClient}}
The \utilityNameX{m+mTunnelClient} application is a command\longDash{}line tool to route a
non\longDash\yarp{} network data source to a non\longDash\yarp{} network data sink via
the \utilityNameR{m+mTunnelService} application.\\

It uses the \requestsNameR{Miscellaneous}{Miscellaneous}{where} request sent to the
\utilityNameR{m+mTunnelService} application to get the IP address and port to connect
to.\\

The application has one required argument, the network port to be opened for a network
data sink to attach to, and one optional argument, the tag for the
\utilityNameR{m+mTunnelService} application being connected to.
\insertShortClientParameters
\tertiaryEnd{\utilityNameE{m+mTunnelClient}}
\secondaryEnd
\primaryEnd{}
