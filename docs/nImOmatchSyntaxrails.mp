% File: MpMmatchSyntaxrails.mpinput metaobjinput fixedBoxverbatimtex%&latex\documentclass{report}\usepackage{color}\begin{document}etex;numeric gap, hGap, lineRadius;gap := 30;hGap := 15;lineRadius := 5;tGap := 2;setObjectDefaultOption("FixedBox")("rbox_radius")(8pt);setObjectDefaultOption("FixedBox")("width")(20pt);setObjectDefaultOption("FixedBox")("height")(16pt);% Make the output recognizable as EPS and embed any needed fonts, for viewingprologues := 3;beginfig(-1);% Expression/1newBox.Expression(btex Expression etex) "framed(false)";Expression.c = origin;drawObj(Expression);newBox.constraint1(btex \textit{Constraint} etex);constraint1.w = Expression.w + (gap,-.5gap);drawObj(constraint1);newFixedBox.comma1(btex \textbf{,} etex);comma1.w = constraint1.e + (.5gap,0);drawObj(comma1);drawarrow (xpart(Expression.w),ypart(constraint1.w)) -- constraint1.w;drawarrow constraint1.e -- comma1.w;drawarrow comma1.e -- (xpart(comma1.e)+hGap+gap,ypart(comma1.e));drawarrow (xpart(comma1.e)+hGap-lineRadius,ypart(comma1.e)){dir0} ..			{dir270}(xpart(comma1.e)+hGap,ypart(comma1.e)-lineRadius) --			(xpart(comma1.e)+hGap,ypart(comma1.e)-.25gap-tGap){dir270} ..			{dir180}(xpart(comma1.e)+hGap-lineRadius,ypart(comma1.e)-.25gap-tGap-lineRadius);drawarrow (xpart(comma1.e)+hGap-lineRadius,ypart(comma1.e)-.25gap-tGap-lineRadius) --			(xpart(constraint1.w)+lineRadius-hGap,ypart(comma1.e)-.25gap-tGap-lineRadius);drawarrow (xpart(constraint1.w)+lineRadius-hGap,ypart(constraint1.w)-.25gap-tGap-lineRadius){dir180} ..			(xpart(constraint1.w)-hGap,ypart(constraint1.w)-.25gap-tGap) --			(xpart(constraint1.w)-hGap,ypart(constraint1.w)-lineRadius){dir90} ..			{dir0}(xpart(constraint1.w)+lineRadius-hGap,ypart(constraint1.w));% Constraint/2newBox.Constraint(btex Constraint etex) "framed(false)";Constraint.w = Expression.w + (0,-1.5gap);drawObj(Constraint);newBox.fieldWithValues1(btex \textit{FieldWithValues} etex);fieldWithValues1.w = Constraint.w + (gap,-.5gap);drawObj(fieldWithValues1);newFixedBox.ampersand1(btex \textbf{\&} etex);ampersand1.w = fieldWithValues1.e + (.5gap,0);drawObj(ampersand1);drawarrow (xpart(Constraint.w),ypart(fieldWithValues1.w)) -- fieldWithValues1.w;drawarrow fieldWithValues1.e -- ampersand1.w;drawarrow ampersand1.e -- (xpart(ampersand1.e)+hGap+gap,ypart(ampersand1.e));drawarrow (xpart(ampersand1.e)+hGap-lineRadius,ypart(ampersand1.e)){dir0} ..			{dir270}(xpart(ampersand1.e)+hGap,ypart(ampersand1.e)-lineRadius) --			(xpart(ampersand1.e)+hGap,ypart(ampersand1.e)-.25gap-tGap){dir270} ..			{dir180}(xpart(ampersand1.e)+hGap-lineRadius,ypart(ampersand1.e)-.25gap-tGap-lineRadius);drawarrow (xpart(ampersand1.e)+hGap-lineRadius,ypart(ampersand1.e)-.25gap-tGap-lineRadius) --			(xpart(fieldWithValues1.w)+lineRadius-hGap,ypart(ampersand1.e)-.25gap-tGap-lineRadius);drawarrow (xpart(fieldWithValues1.w)+lineRadius-hGap,ypart(fieldWithValues1.w)-.25gap-tGap-lineRadius){dir180} ..			(xpart(fieldWithValues1.w)-hGap,ypart(fieldWithValues1.w)-.25gap-tGap) --			(xpart(fieldWithValues1.w)-hGap,ypart(fieldWithValues1.w)-lineRadius){dir90} ..			{dir0}(xpart(fieldWithValues1.w)+lineRadius-hGap,ypart(fieldWithValues1.w));% FieldWithValues/3newBox.FieldWithValues(btex FieldWithValues etex) "framed(false)";FieldWithValues.w = Constraint.w + (0,-1.5gap);drawObj(FieldWithValues);newBox.fieldName1(btex \textit{FieldName} etex);fieldName1.w = FieldWithValues.w + (gap,-.5gap);drawObj(fieldName1);newBox.separator1(btex \textit{Separator} etex);separator1.w = fieldName1.e + (.5gap,0);drawObj(separator1);newBox.matchValue1(btex \textit{MatchValue} etex);matchValue1.w = separator1.e + (.5gap,0);drawObj(matchValue1);drawarrow (xpart(FieldWithValues.w),ypart(fieldName1.w)) -- fieldName1.w;drawarrow fieldName1.e -- separator1.w;drawarrow separator1.e -- matchValue1.w;drawarrow matchValue1.e -- (xpart(matchValue1.e)+hGap+gap,ypart(matchValue1.e));% FieldName/4newBox.FieldName(btex FieldName etex) "framed(false)";FieldName.w = FieldWithValues.w + (0,-1.25gap);drawObj(FieldName);newBox.fields1(btex field name from database etex);fields1.w = FieldName.w + (gap,-.5gap);drawObj(fields1);drawarrow (xpart(FieldName.w),ypart(fields1.w)) -- fields1.w;drawarrow fields1.e -- (xpart(fields1.e)+hGap+gap,ypart(fields1.e));% Separator/5newBox.Separator(btex Separator etex) "framed(false)";Separator.w = FieldName.w + (0,-1.25gap);drawObj(Separator);newFixedBox.colon1(btex : etex);colon1.w = Separator.w + (gap,-.5gap); drawObj(colon1);newFixedBox.exclaim1(btex ! etex);exclaim1.w = colon1.w + (0,-(.5gap+2tGap));drawObj(exclaim1);drawarrow (xpart(Separator.w),ypart(colon1.c)) -- colon1.w;drawarrow (xpart(colon1.w)-hGap-lineRadius,ypart(colon1.c)){dir0} ..			{dir270}(xpart(colon1.w)-hGap,ypart(colon1.c)-lineRadius) --			(xpart(colon1.w)-hGap,ypart(exclaim1.w)+lineRadius){dir270} ..			{dir0}(xpart(colon1.w)+lineRadius-hGap,ypart(exclaim1.w)) --			exclaim1.w;drawarrow exclaim1.e --			(xpart(colon1.e)+hGap-lineRadius,ypart(exclaim1.e)){dir0} ..			{dir90}(xpart(colon1.e)+hGap,ypart(exclaim1.e)+lineRadius) --			(xpart(colon1.e)+hGap,ypart(colon1.e)-lineRadius){dir90} ..			{dir0}(xpart(colon1.e)+hGap+lineRadius,ypart(colon1.e));drawarrow colon1.e -- (xpart(colon1.e)+gap+hGap,ypart(colon1.e));% MatchValue/6newBox.MatchValue(btex MatchValue etex) "framed(false)";MatchValue.w = Separator.w + (0,-2gap);drawObj(MatchValue);newFixedBox.openRound1(btex $($ etex);openRound1.w = MatchValue.w + (gap,-(gap+2tGap));drawObj(openRound1);newBox.valueList1(btex \textit{ValueList} etex);valueList1.w = openRound1.e + (.5gap,0);drawObj(valueList1);newFixedBox.closeRound1(btex $)$ etex);closeRound1.w = valueList1.e + (.5gap,0);drawObj(closeRound1);newBox.singleValue1(btex \textit{SingleValue} etex);singleValue1.w = valueList1.w + (0,.5gap+2tGap);drawObj(singleValue1);drawarrow (xpart(MatchValue.w),ypart(singleValue1.w)) -- singleValue1.w;drawarrow (xpart(openRound1.w)-hGap-lineRadius,ypart(singleValue1.c)){dir0} ..			{dir270}(xpart(openRound1.w)-hGap,ypart(singleValue1.c)-lineRadius) --			(xpart(openRound1.w)-hGap,ypart(openRound1.c)+lineRadius){dir270} ..			{dir0}openRound1.w;drawarrow openRound1.e -- valueList1.w;drawarrow valueList1.e -- closeRound1.w;drawarrow singleValue1.e -- (xpart(closeRound1.e)+hGap+gap,ypart(singleValue1.e));drawarrow closeRound1.e --			(xpart(closeRound1.e)+hGap-lineRadius,ypart(closeRound1.e)){dir0} ..			{dir90}(xpart(closeRound1.e)+hGap,ypart(closeRound1.e)+lineRadius) --			(xpart(closeRound1.e)+hGap,ypart(singleValue1.e)-lineRadius){dir90} ..			{dir0}(xpart(closeRound1.e)+hGap+lineRadius,ypart(singleValue1.e));% ValueList/7newBox.ValueList(btex ValueList etex) "framed(false)";ValueList.w = MatchValue.w + (0,-1.75gap);drawObj(ValueList);newBox.singleValue2(btex \textit{SingleValue} etex);singleValue2.w = ValueList.w + (gap,-.5gap);drawObj(singleValue2);newFixedBox.comma2(btex \textbf{,} etex);comma2.w = singleValue2.e + (.5gap,0);drawObj(comma2);drawarrow (xpart(Expression.w),ypart(singleValue2.w)) -- singleValue2.w;drawarrow singleValue2.e -- comma2.w;drawarrow comma2.e -- (xpart(comma2.e)+hGap+gap,ypart(comma2.e));drawarrow (xpart(comma2.e)+hGap-lineRadius,ypart(comma2.e)){dir0} ..			{dir270}(xpart(comma2.e)+hGap,ypart(comma2.e)-lineRadius) --			(xpart(comma2.e)+hGap,ypart(comma2.e)-.25gap-tGap){dir270} ..			{dir180}(xpart(comma2.e)+hGap-lineRadius,ypart(comma2.e)-.25gap-tGap-lineRadius);drawarrow (xpart(comma2.e)+hGap-lineRadius,ypart(comma2.e)-.25gap-tGap-lineRadius) --			(xpart(singleValue2.w)+lineRadius-hGap,ypart(comma2.e)-.25gap-tGap-lineRadius);drawarrow (xpart(singleValue2.w)+lineRadius-hGap,ypart(singleValue2.w)-.25gap-tGap-lineRadius){dir180} ..			(xpart(singleValue2.w)-hGap,ypart(singleValue2.w)-.25gap-tGap) --			(xpart(singleValue2.w)-hGap,ypart(singleValue2.w)-lineRadius){dir90} ..			{dir0}(xpart(singleValue2.w)+lineRadius-hGap,ypart(singleValue2.w));% SingleValue/8newBox.SingleValue(btex SingleValue etex) "framed(false)";SingleValue.w = ValueList.w + (0,-1.5gap);drawObj(SingleValue);newFixedBox.doubleQuote1(btex \texttt{"} etex);doubleQuote1.w = SingleValue.w + (gap,-.5gap);drawObj(doubleQuote1);newFixedBox.singleQuote1(btex \texttt{'} etex);singleQuote1.w = doubleQuote1.w + (0,-(.5gap+2tGap));drawObj(singleQuote1);newBox.aString1(btex \textit{String} etex);aString1.w = doubleQuote1.e + (.5gap,0);drawObj(aString1);newBox.aString2(btex \textit{String} etex);aString2.w = singleQuote1.e + (.5gap,0);drawObj(aString2);newFixedBox.doubleQuote2(btex \texttt{"} etex);doubleQuote2.w = aString1.e + (.5gap,0);drawObj(doubleQuote2);newFixedBox.singleQuote2(btex \texttt{'} etex);singleQuote2.w = aString2.e + (.5gap,0);drawObj(singleQuote2);drawarrow (xpart(SingleValue.w),ypart(doubleQuote1.c)) -- doubleQuote1.w;drawarrow (xpart(doubleQuote1.w)-hGap-lineRadius,ypart(doubleQuote1.c)){dir0} ..			{dir270}(xpart(doubleQuote1.w)-hGap,ypart(doubleQuote1.c)-lineRadius) --			(xpart(doubleQuote1.w)-hGap,ypart(singleQuote1.c)+lineRadius){dir270} ..			{dir0}(xpart(doubleQuote1.w)+lineRadius-hGap,ypart(singleQuote1.c)) --			singleQuote1.w;drawarrow doubleQuote1.e -- aString1.w;drawarrow singleQuote1.e -- aString2.w;drawarrow aString1.e -- doubleQuote2.w;drawarrow aString2.e -- singleQuote2.w;drawarrow doubleQuote2.e -- (xpart(doubleQuote2.e)+gap+hGap,ypart(doubleQuote2.e));drawarrow singleQuote2.e --			(xpart(singleQuote2.e)+hGap-lineRadius,ypart(singleQuote2.e)){dir0} ..			{dir90}(xpart(singleQuote2.e)+hGap,ypart(singleQuote2.e)+lineRadius) --			(xpart(singleQuote2.e)+hGap,ypart(doubleQuote2.e)-lineRadius){dir90} ..			{dir0}(xpart(singleQuote2.e)+hGap+lineRadius,ypart(doubleQuote2.e));% String/9newBox.String(btex String etex) "framed(false)";String.w = SingleValue.w + (0,-1.75gap);drawObj(String);newBox.character1(btex \textit{Character} etex);character1.w = String.w + (gap,-.5gap);drawObj(character1);drawarrow (xpart(String.w),ypart(character1.w)) -- character1.w;drawarrow character1.e -- (xpart(character1.e)+hGap+gap,ypart(character1.e));drawarrow (xpart(character1.e)+hGap-lineRadius,ypart(character1.e)){dir0} ..			{dir270}(xpart(character1.e)+hGap,ypart(character1.e)-lineRadius) --			(xpart(character1.e)+hGap,ypart(character1.e)-.25gap-tGap){dir270} ..			{dir180}(xpart(character1.e)+hGap-lineRadius,ypart(character1.e)-.25gap-tGap-lineRadius);drawarrow (xpart(character1.e)+hGap-lineRadius,ypart(character1.e)-.25gap-tGap-lineRadius) --			(xpart(character1.w)+lineRadius-hGap,ypart(character1.e)-.25gap-tGap-lineRadius);drawarrow (xpart(character1.w)+lineRadius-hGap,ypart(character1.w)-.25gap-tGap-lineRadius){dir180} ..			(xpart(character1.w)-hGap,ypart(character1.w)-.25gap-tGap) --			(xpart(character1.w)-hGap,ypart(character1.w)-lineRadius){dir90} ..			{dir0}(xpart(character1.w)+lineRadius-hGap,ypart(character1.w));% Character/10newBox.Character(btex Character etex) "framed(false)";Character.w = String.w + (0,-1.5gap);drawObj(Character);newFixedBox.escape1(btex \textbackslash{} etex);escape1.w = Character.w + (gap,-.5gap);drawObj(escape1);newBox.reserved1(btex reserved character etex);reserved1.w = escape1.e + (.5gap,0);drawObj(reserved1);newFixedBox.asterisk1(btex $*$ etex);asterisk1.w = escape1.w + (0,-(.5gap+2tGap));drawObj(asterisk1);newFixedBox.question1(btex $?$ etex);question1.w = asterisk1.w + (0,-(.5gap+2tGap));drawObj(question1);newBox.normal1(btex normal character etex);normal1.w = question1.w + (0,-(.5gap+2tGap));drawObj(normal1);drawarrow (xpart(Character.w),ypart(escape1.w)) -- escape1.w;drawarrow escape1.e -- reserved1.w;drawarrow (xpart(escape1.w)-hGap-lineRadius,ypart(escape1.w)){dir0} ..			{dir270}(xpart(escape1.w)-hGap,ypart(escape1.w)-lineRadius) --			(xpart(escape1.w)-hGap,ypart(normal1.w)+lineRadius){dir270} ..			{dir0}(xpart(escape1.w)+lineRadius-hGap,ypart(normal1.w)) --			normal1.w;drawarrow (xpart(escape1.w)-hGap,ypart(asterisk1.w)+lineRadius){dir270} ..			{dir0}(xpart(escape1.w)+lineRadius-hGap,ypart(asterisk1.w)) --			asterisk1.w;drawarrow (xpart(escape1.w)-hGap,ypart(question1.w)+lineRadius){dir270} ..			{dir0}(xpart(escape1.w)+lineRadius-hGap,ypart(question1.w)) --			question1.w;drawarrow reserved1.e -- (xpart(reserved1.e)+gap+hGap,ypart(reserved1.e));drawarrow normal1.e --			(xpart(reserved1.e)+hGap-lineRadius,ypart(normal1.e)){dir0} ..			{dir90}(xpart(reserved1.e)+hGap,ypart(normal1.e)+lineRadius) --			(xpart(reserved1.e)+hGap,ypart(reserved1.e)-lineRadius){dir90} ..			{dir0}(xpart(reserved1.e)+hGap+lineRadius,ypart(reserved1.e));drawarrow asterisk1.e --			(xpart(reserved1.e)+hGap-lineRadius,ypart(asterisk1.e)){dir0} ..			{dir90}(xpart(reserved1.e)+hGap,ypart(asterisk1.e)+lineRadius);drawarrow question1.e --			(xpart(reserved1.e)+hGap-lineRadius,ypart(question1.e)){dir0} ..			{dir90}(xpart(reserved1.e)+hGap,ypart(question1.e)+lineRadius);endfig;end